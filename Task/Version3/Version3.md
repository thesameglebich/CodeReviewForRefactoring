# Контрольная 1, вариант 3

## Задача

Необходимо разработать сайт, позволяющий конструировать роботов. При выполнении данного задания обязательно использовать шаблоны страниц, доступные в папке `Mockups`. Можно и НУЖНО редактировать HTML-код данных страниц, однако нарушать внешний вид запрещено - это вызовет уменьшение баллов. 

Должна существовать концепция "Склада", то есть это означает, что в системе есть какое-то изначальное количество доступных денег и компонентов. Каждый компонент имеет своё доступное количество. Нужно задавать его случайно от 0 до 10 при запуске приложения. При этом в каждой группе компонентов (например, туловище робота) на старте должен быть в наличии хотя бы 1 тип с количеством не менее 3-х. 
У каждой детали на складе есть: 
* Наименование
* Цена
* Количество на складе. 

Детали делятся на типы (модули для головы, туловища, рук. Головы, туловища, руки).

При запуске приложения должна выводиться главная страница, на которой содержется статистика, информация и список созданных роботов. Подробнее см в `Mockups/MainPage`. 
В разделе статистики и информации отображается текущее состояние "склада". Выводится такая информация как: 
* Денег осталось / Денег потрачено
* Всего создано роботов
* Всего уничтожено роботов
* Количество модификаций осталось доступрных (на основании количества оставшихся денег) / использовано (на основании целых роботов)
* Информация о том, сколько компонентов осталось на складе и сколько было использовано (для каждого компонента отдельно). 

При удалении робота все модификации, которые были в него установлены возвращаются на склад, а деньги, которые были потрачены на его установку возмещаются в 80% размере. То есть, если какой-то компонент стоит 100$, то в "казну" вернётся только 80$. 

При создании или редактировании робора должна быть реализована защита, которая не позволит уйти в минус по деньгам или ресурсам. 

Создание робота: 
* Во время создания робота учитывается как бюджет, так и доступность деталей на момент открытия страницы. 
* Если деталь недоступна (кончилась или недостаточно денег) то она должна быть заблокирована (disabled). 
* При переходе между страницами создания робота изменяется доступная сумма, однако детали не резервируются до момента созранения робота, деньги по факту не "списываются", а просто блокируются.  
* На третем шаге создания робота имеется возможность добавлять несколько различных модификацией тела. Выбрав в выпадающем списке доступную модификацию, нужно нажать "next", чтобы перейти на следующий шаг и сохранить эту модификацию, или нажать "Add", чтобы установить ещё одну. Если Вы установили "модификацию 1" в первый слот, то во второй её уже нельзя поставить. Если выбрать вариант "Random", то при при добавлении следующей детали или переходе на новую страницу будет добавлена случайная доступная деталь. При добавлени или удалении детали обновляется доступное количество денег. 
* На четвёртом шаге задаются руки и модификации. Доступные модификации для рук определяются выбранном на первом шаге типом туловища. Так, например, некая модификация может быть установлена только на туловища с типом 1, 2 и 4. На этом экране нужно выводить только совместимые модули для рук. 
* После четвёртого шага происходит сохранение робота, если все выбранные компоненты доступны. Если компонент недоступен, есть несколько вариантов реализации: 
  * Перейти на главный экран с сообщением об ошибке, что робот не может быт ьсоздан с указанием деталей, которых не хватило. 
  * Перейти на тот экран, на котором в первую очередь появился недостающий компонент и выделить его с указанием ошибки. (данный вариант принесёт гораздо больше баллов)
* В случае, если робот успешно создался, он выводится на главной странице. 
* На странице редактирования все экраны совмещены в один. При этом стоит помнить про ограничения для модулей рук и выводить ошибку валидации, если выбран несовместимый. При сохранении изменений пользователь попадает на страницу робота. 

Использование JS запрещено и не будет оцениваться. 

При реализации данного приложения не забывайте использовать сервисы, модели и изученные подходы наиболее корректным образом.  

## Оценивание
Оценивание работы ведётся поаспектно. Далее указывается стоимость и расшифровка. 
* "Похожесть" вашего приложения на выданные макеты.  Оценивается то, не поломали ли вы их и сколько макетов вы перенесли в своё приложение, сделав функциональными.   **Стоимость: 0,5балла**. 
* "Статистика и инфо". Оценивается то, насколько много информации выводится в сравнении с макетом. Максимум баллов даётся в случае, если реализовано всё, что и на макете (и в описании задачи). **Стоимость: 0,75балла**.
*  "Список роботов". Оценивается корректность вывода списка созданных роботов в сравнении с макетом. Все данные должны быть реальными. **Стоимость: 0,5баллов**.
*   "Создание" делится на несколько аспектов оценивания: 
    *   Первый шаг. Функциональный первый шаг. **Стоимость: 0,25Баллов**.
    *   Второй шаг. Функционирующий второй шаг. **Стоимость: 0,5Баллов**.
    *   Добавление элементов на третьем шаге с ограничениями, описанными выше в задании. **Стоимость: 0,75балла**.
    *   Удаление элементов на третьем шаге с ограничениями, описанными выше в задании. **Стоимость: 0,5балла**.
    *   Четвёртый шаг. Функционирование и ограничение доступности компонент в зависимости от выбранного типа туловища. **Стоимость: 0,75балла**
    *   На всех шагах подразумевается, что все выбираемые сущности (select, radio, checkbox) не захардкожены, а получается из контроллера (а сами сущности задаются в сервисах и хранятся там же). 
* Редактирование. Функицонирование со всеми ограничениями. **Стоимость: 0,75балла**. 
* Удаление. Удаление из списка и возврат ресурсов по правилам выше.  **Стоимость: 0,25**.
* Сохранение и просмотр. Возможность фактически сохранить робота и просмотреть результат. **Стоимость: 0,75балла**.
* Архитектурные бонусы. **Стоимость: 1балл**.
* Валидация. Првоерка доступности всех ресурсов на каждом шагу и на создании (в том числе и возврат на нжный шаг). **Стоимость: 1,25балла**.

**Итог: 8баллов**

Не забывайте о том, что нужно иметь в виду, что пользователь может одновременно работать в двух вкладках. 